{% extends "base.html" %}
{% block title %}Sign Up ‚Äî NovaTech{% endblock %}

{% block content %}
<div class="page form-page">
  <div class="form-container">

    <!-- Header -->
    <div class="form-header">
      <h2>Create an account</h2>
      <p>Join NovaTech and start building today</p>
    </div>

    <!-- Signup Form -->
    <form method="POST" novalidate>
      {% csrf_token %}

      <!-- Full Name -->
      <div class="form-group {% if form.name.errors %}has-error{% endif %}">
        <label for="id_name">Full Name</label>
        <input
          type="text"
          id="id_name"
          name="name"
          class="form-input"
          placeholder="Your full name"
          value="{{ form.name.value|default_if_none:'' }}"
          autocomplete="off"
        />
        {% if form.name.errors %}
          <div class="field-error">‚ö† {{ form.name.errors|first }}</div>
        {% endif %}
      </div>

      <!-- Email -->
      <div class="form-group {% if form.email.errors %}has-error{% endif %}">
        <label for="id_email">Email Address</label>
        <input
          type="text"
          id="id_email"
          name="email"
          class="form-input"
          placeholder="you@example.com"
          value="{{ form.email.value|default_if_none:'' }}"
          autocomplete="off"
        />
        {% if form.email.errors %}
          <div class="field-error">‚ö† {{ form.email.errors|first }}</div>
        {% endif %}
      </div>

      <!-- Password + Strength Meter -->
      <div class="form-group {% if form.password.errors %}has-error{% endif %}">
        <label for="id_password">Password</label>
        <div class="input-wrap">
          <input
            type="password"
            id="id_password"
            name="password"
            class="form-input"
            placeholder="Min. 6 characters"
            style="padding-right: 2.8rem;"
          />
          <button type="button" class="toggle-pass" aria-label="Toggle password">üëÅ</button>
        </div>
        <!-- Strength bar (populated in real-time by JS) -->
        <div id="strength-bar" class="strength-bar">
          <div class="strength-seg"></div>
          <div class="strength-seg"></div>
          <div class="strength-seg"></div>
        </div>
        <div id="strength-label" class="strength-label"></div>

        {% if form.password.errors %}
          <div class="field-error">‚ö† {{ form.password.errors|first }}</div>
        {% endif %}
      </div>

      <!-- Confirm Password -->
      <div class="form-group {% if form.confirm_password.errors %}has-error{% endif %}">
        <label for="id_confirm_password">Confirm Password</label>
        <div class="input-wrap">
          <input
            type="password"
            id="id_confirm_password"
            name="confirm_password"
            class="form-input"
            placeholder="Re-enter your password"
            style="padding-right: 2.8rem;"
          />
          <button type="button" class="toggle-pass" aria-label="Toggle confirm password">üëÅ</button>
        </div>
        {% if form.confirm_password.errors %}
          <div class="field-error">‚ö† {{ form.confirm_password.errors|first }}</div>
        {% endif %}
      </div>

      <!-- Submit -->
      <button type="submit" class="btn-submit">Create Account</button>
    </form>

    <!-- Footer link -->
    <div class="form-footer">
      Already have an account? <a href="{% url 'login' %}">Sign in</a>
    </div>
  </div>
</div>
{% endblock %}
